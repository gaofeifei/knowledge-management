{% extends "public_nav.html" %}
{% block title %}<title>节点探索</title>{% endblock %}
{% block my_css %}
    <link rel="stylesheet" href="/static/css/relation.css">
    <style type="text/css">
        .relation b,.relation a {
            color: #09F!important;
        }
    </style>
{% endblock %}

{% block main %}
<div id="container">
    <div class="contop">
        <span class="cp1">节点探索条件</span>
        <div class="cp2">
            节点1
            <input class="more" type="text" placeholder="请输入人物昵称、ID或者事件关键词..."/>
            节点类型
            <select onchange="leixing1(this.value)" style='width:120px;padding:3px;border:1px solid #aeaeae;font-size:12px;'>
                <option value="" disabled selected>请选择节点类型</option>
                <option value="人物">人物</option>
                <option value="事件">事件</option>
            </select> 
        </div>
        <div class="cp3">
            节点2
            <input class="mores" type="text" placeholder="请输入人物昵称、ID或者事件关键词..."/>
            节点类型
            <select onchange="leixing2(this.value)" style='width:120px;padding:3px;border:1px solid #aeaeae;font-size:12px;'>
                <option value="" disabled selected>请选择节点类型</option>
                <option value="人物">人物</option>
                <option value="事件">事件</option>
            </select> 
        </div>
        <button class="cp4">节点探索</button>
    </div>
    <div class="result" style='display:none;'>
        <p class="re1">节点探索结果</p>
        <div style="width:1200px;padding-bottom:20px;border: 2px solid #09F;box-shadow: 3px 3px 3px #c9c2c7;">
            <div class="re2">
                        <div id="complex">

                        </div>
                    </div>
                    <div class="re3">
                        <div class="re3lf" style="padding-left:75px;">
                            <p class="route">
                                <span class="ru1">两者之间的最短路径为：</span>
                                <span class="path"></span>
                                <span class="dote">两者之间共<b class='geshu'></b>个节点</span>
                            </p>
                            <div id='se_ka'></div>
                        </div>
                        <div class="re3rg">
                            <p class="xuan" style="padding-right:110px;text-align:right;">
                                <!-- <label class="radio-inline">
                                    <input type="radio" name="idiefo" value="option1"> 1跳
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="idiefo" value="option2"> 2跳
                                </label>
                                <label class="radio-inline">    
                                    <input type="radio" name="idiefo" value="option2" checked> 全部
                                </label> -->
                                <button class="add22">添加</button>
                            </p>    
                            <img src='/static/image/left.png' class="left" style='display:inline-block;margin: -160px 20px 0 0;'/>
                            <div class="midd" style='width:1020px;overflow:hidden;display:inline-block;'>
                                <div class="midd2" style="width:2040px;transition: all 0.8s linear;">
                                    
                                </div>
                            </div>  
                        
                            <img src="/static/image/right.png" class='right' style='display:inline-block;
                                                    margin:-160px 0 0 24px;'/>
                        </div>
                    </div>
        </div>
        
    </div>
</div>
<div class="modal fade" id="join6" tabindex="-3">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">编辑群体</h2>
            </div>
            <div class="modal-body">
                <div class="xinzeng" style="margin-top: 20px;padding-left: 20px;">
                            <!-- <p class="tit">新建专题</p> -->
                            <form style="margin-left: 40px;">
                                <span class="xz1">群体名称</span>
                                <select name="" id="list1" onchange='check(this.value)'>
                                    <option value="" disabled selected>请选择群体名称</option> 
                                    <option value="新建群体">新建群体</option>
                                    <option value="律师群体">律师群体</option>
                                </select>
                                <input type="text" class="shuru2" placeholder="请输入群体名称"/>
                            </form>
                            <div class="shij">
                                <span class="sjr">加入人物</span>
                                <a class="sj1">邓海峰 <b class="icon icon-remove det"></b> </a>
                                <a class="sj2">潘强 <b class="icon icon-remove det"></b> </a>
                            </div>
                        </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    关闭
                </button>
                <button type="button" class="btn btn-danger">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="join1" tabindex="-2">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">添加提示</h2>
            </div>
            <div class="modal-body">
                <p>您确定添加吗？</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    关闭
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="join4" tabindex="-2">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">温馨提示</h2>
            </div>
            <div class="modal-body">
                <p>您已选择此专题，选择完毕后请点击右上角 “ 添加 ” 按钮，加入到专题中O(∩_∩)O<br>
                    如您不需要可以再次点击取消选择专题</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="join5" tabindex="-2">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">温馨提示</h2>
            </div>
            <div class="modal-body">
                <p>请选择节点类型</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="join2" tabindex="-2">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">温馨提示</h2>
            </div>
            <div class="modal-body">
                <p>请选择节点</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="join8" tabindex="-3">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">节点条件</h2>
            </div>
            <div class="modal-body relations" style='height:350px;'>
                <div class='left' style='width:40%;height:300px;float:left;overflow:auto;margin-left:50px;'>
                    <span>节点1</span>
                    <div class="leftlist"></div>
                </div>
                <div class='right' style='width:40%;height:300px;float:left;overflow:auto;margin-left:50px;'>
                    <span>节点2</span>
                    <div class="rightlist"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    关闭
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal" onclick='show()'>
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block my_js %}
<script src="/static/js/relation.js"></script>
<script>
    // $('.cp4').on('click',function(){
    //     $('#join8').modal("show");
    // });
    $('.add22').on('click',function(){
        $('#join6').modal("show");
    });
    
    function check(value){
        if (value=='新建群体') {
            $('.shuru2').show();
        }else{
            $('.shuru2').hide();
        };
    }
    $.each($(".det"),function(index,item){
        $(item).on('click',function(){
            $(this).parent().fadeOut(300);
        });
    });
    // $('.add22').on('click',function () {
    //     $('#join6').modal("show");
    // });
    $.each($('.xingming'),function(index,item){
        $(item).on('click',function(){
            window.location.href='/index/person/';
        })
    });
    var play=$("#container .result .re3 .play");
    $.each(play,function (index,item) {
        $(item).hover(function () {
            $(item).find(".play5").css({
                "-webkit-transform":"translateY(-40px)",
                "-moz-transform":"translateY(-40px)",
                "-ms-transform":"translateY(-40px)",
                "-o-transform":"translateY(-40px)",
                "transform":"translateY(-40px)",
            })
        },function () {
            $(item).find(".play5").css({
                "-webkit-transform":"translateY(40px)",
                "-moz-transform":"translateY(40px)",
                "-ms-transform":"translateY(40px)",
                "-o-transform":"translateY(40px)",
                "transform":"translateY(40px)",
            })
        });
    });
    $.each(play,function (index,item) {
            var changecolor=1;
            $(item).find(".play5").on('click',function(){
                if (changecolor==1) {
                    $(this).parent('.play').css({backgroundColor:'#09F'});
                    changecolor=2;
                    $(this).find('a').text('取消群体探索');
                    $('#join4').modal("show");
                } else {
                    $(this).parent('.play').css({backgroundColor:'#d2dcf7'});
                    changecolor=1;
                    $(this).find('a').text('加入群体探索');
                }
            }); 
        });
    var heart=$("#container .result .play .p11 .xin");
    $.each(heart,function(index,item){
        var chan=1;
        $(item).on('click',function(){
            if (chan==1) {
                $(this).attr('src','/static/image/focus.png');
                chan=2;
            }else {
                $(this).attr('src','/static/image/heart.png');
                chan=1;
            }
        })
    });
    $('#container .result .re3 .re3rg .left').hover(function () {
        $(this).attr('src','/static/image/left_hv.png');
    },function () {
        $(this).attr('src','/static/image/left.png');
    });
    $('#container .result .re3 .re3rg .right').hover(function () {
        $(this).attr('src','/static/image/right_hv.png');
    },function () {
        $(this).attr('src','/static/image/right.png');
    });

    //
    var go = 66;
    $('#container .result .re3 .re3rg .left').on('click',function () {
        if(go==66){
            var plays=$("#container .result .re3 .re3rg .midd2");
            $(plays).css({
                "-webkit-transform":"translateX(-518px)",
                "-moz-transform":"translateX(-518px)",
                "-ms-transform":"translateX(-518px)",
                "-o-transform":"translateX(-518px)",
                "transform":"translateX(-518px)",
            });
            go = 88;
        } else{
            var plays=$("#container .result .re3 .re3rg .midd2");
            $(plays).css({
                "-webkit-transform":"translateX(0px)",
                "-moz-transform":"translateX(0px)",
                "-ms-transform":"translateX(0px)",
                "-o-transform":"translateX(0px)",
                "transform":"translateX(0px)",
            });
            go = 66;
        }
    });
    $('#container .result .re3 .re3rg .right').on('click',function () {
        if(go==66){
            var plays=$("#container .result .re3 .re3rg .midd2");
            $(plays).css({
                "-webkit-transform":"translateX(-518px)",
                "-moz-transform":"translateX(-518px)",
                "-ms-transform":"translateX(-518px)",
                "-o-transform":"translateX(-518px)",
                "transform":"translateX(-518px)",
            });
            go = 88;
        } else{
            var plays=$("#container .result .re3 .re3rg .midd2");
            $(plays).css({
                "-webkit-transform":"translateX(0px)",
                "-moz-transform":"translateX(0px)",
                "-ms-transform":"translateX(0px)",
                "-o-transform":"translateX(0px)",
                "transform":"translateX(0px)",
            });
            go = 66;
        }
    });
</script>
{% endblock %}